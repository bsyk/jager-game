(this["webpackJsonpjager-game"]=this["webpackJsonpjager-game"]||[]).push([[0],{14:function(e,t,a){e.exports=a(25)},19:function(e,t,a){},20:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),l=a.n(c),o=(a(19),a(4)),i=a(6),s=a(2),u=a(38),m=a(39),d=a(40),f=a(41),p=a(42),b=(a(20),a(37)),v=function(e){var t=e.idx,a=e.player,n=e.onPlayerChange,c=e.onRemovePlayer,l="name-".concat(t);return r.a.createElement("div",{key:"Player-".concat(t),className:"inputrow"},r.a.createElement("label",{htmlFor:l},"Player #".concat(t+1)),r.a.createElement("input",{type:"text",name:l,"data-idx":t,id:l,className:"name",value:a.name,onChange:n}),r.a.createElement("button",{type:"button",className:"delete","data-idx":t,onClick:c},r.a.createElement(b.a,null)))},g=function(e){var t=Math.floor(e/3600),a=Math.floor((e-60*t*60)/60);return[t,a,e-(60*t*60+60*a)].map((function(e){return(""+e).padStart(2,"0")})).join(":")},E=function(e){var t=e.idx,a=e.label,n=e.start,c=e.end;return"marker"===e.type?r.a.createElement("li",{key:"marker-".concat(t)},r.a.createElement("div",{className:"markertitle"},"".concat(a)),r.a.createElement("div",{className:"markernumber"},r.a.createElement("span",null,"".concat(g(n))))):r.a.createElement("li",{key:"player-".concat(t)},r.a.createElement("div",{className:"line"}),r.a.createElement("div",{className:"title"},"".concat(a)),r.a.createElement("div",{className:"number"},r.a.createElement("span",null,"".concat(g(n))),r.a.createElement("span",null,"".concat(g(c)))))},h=function(e,t){var a=localStorage.getItem(e);if(a)try{return JSON.parse(a)}catch(n){console.error("Can't parse value from localstorage, using default",n)}return t},y=function(e,t){localStorage.setItem(e,JSON.stringify(t))};var j=function(){var e={name:""},t=h("playerList",[Object(s.a)({},e),Object(s.a)({},e),Object(s.a)({},e)]),a=Object(n.useState)(t),c=Object(i.a)(a,2),l=c[0],b=c[1],g=h("allocations",[]),j=!!g.length,w=Object(n.useState)(g),O=Object(i.a)(w,2),k=O[0],N=O[1],C=Object(n.useState)(!j),S=Object(i.a)(C,2),x=S[0],A=S[1],W=Object(n.useState)(j),P=Object(i.a)(W,2),R=P[0],I=P[1],M=function(e){y("playerList",e),b(e)},J=function(e){M(l.filter((function(t,a){return a!==parseInt(e.currentTarget.dataset.idx)})))},L=function(e){var t=Object(o.a)(l);t[e.target.dataset.idx][e.target.className]=e.target.value,M(t)},T=function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=[e[a],e[t]];e[t]=n[0],e[a]=n[1]}return e};return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:"/dinner.png",className:"App-logo",alt:"dinner"})),x?r.a.createElement("div",null,r.a.createElement("p",null,"Who's playing?"),l.map((function(e,t){return r.a.createElement(v,{key:"player-".concat(t),idx:t,player:e,onPlayerChange:L,onRemovePlayer:J})})),r.a.createElement("div",{className:"buttonrow"},r.a.createElement("button",{type:"button",onClick:function(){M([].concat(Object(o.a)(l),[Object(s.a)({},e)]))}},r.a.createElement(u.a,null)),r.a.createElement("button",{type:"button",onClick:function(){A(!1)}},r.a.createElement(m.a,null)))):r.a.createElement("div",null,!R&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Ready to play?"),r.a.createElement("div",null,l.map((function(e){return e.name})).join(", ")),r.a.createElement("div",{className:"buttonrow"},r.a.createElement("button",{type:"button",onClick:function(){A(!0)}},r.a.createElement(d.a,null)),r.a.createElement("button",{type:"button",onClick:function(){I(!0);var e=l.length,t=1*e,a=T(Object(o.a)(Array(t)).map((function(t,a){return a<e?a:a-e}))),n={start:2700,end:2700,label:"Half Time",type:"marker"},r=Math.round(5400/t),c=a.reduce((function(e,t,a){return[].concat(Object(o.a)(e),[{start:a*r,end:(a+1)*r,type:"allocation"}])}),[]);c[e-1].end=5400;var i=c.map((function(e,t){return Object(s.a)(Object(s.a)({},e),{},{label:l[a[t]].name})})),u=i.findIndex((function(e){return e.start<2700&&e.end>2700}));if(~u){var m=i.slice(0,u),d=i.slice(u+1),f=Object(s.a)(Object(s.a)({},i[u]),{},{end:2700,type:"allocation split"}),p=Object(s.a)(Object(s.a)({},i[u]),{},{start:2700,type:"allocation split"});i=[].concat(Object(o.a)(m),[f,n,p],Object(o.a)(d))}else i=[].concat(Object(o.a)(i.slice(0,i.length/2)),[n],Object(o.a)(i.slice(i.length/2)));y("allocations",i),N(i)}},r.a.createElement(f.a,null)))),R&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"timeline"},r.a.createElement("ul",null,k.map((function(e,t){var a=e.label,n=e.start,c=e.end,l=e.type;return r.a.createElement(E,{key:"row-".concat(t),label:a,start:n,end:c,type:l,idx:t})})))),r.a.createElement("div",{className:"buttonrow"},r.a.createElement("button",{type:"button",onClick:function(){I(!1)}},r.a.createElement(p.a,null))))))},w=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function O(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}l.a.render(r.a.createElement(j,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");w?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):O(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):O(t,e)}))}}()}},[[14,1,2]]]);
//# sourceMappingURL=main.ffab2a8f.chunk.js.map